{% load static wagtailimages_tags %}

<div class="main_posts_grid">
    {% for post in posts %}
        {% with post=post.specific %}
            {% with post.get_parent.specific as category %}
            <div class="main_grid_single"
                 onmouseenter="changeBackground(this, '{{ category.main_color|safe }}')"
                 onmouseleave="resetBackground(this)">
                <a href="{{ post.url }}">
                    <div class="grid_img_container">
                        {% image post.main_image original as postImage %}
                        <img src="{{ postImage.url }}"/>
                    </div>
                    <div class="main_grid_single_info">
                        <span style="color:{{ category.main_color }}">{{ category.title }}</span>
                        <p>{{ post.title }}</p>
                    </div>
                </a>
            </div>
            {% endwith %}
        {% endwith %}
    {% endfor %}
</div>
